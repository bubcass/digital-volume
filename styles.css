/* Edition Mode â€” tuned to biden.pdf (PoC)
   Typography: Times New Roman
   Goal: evoke printed Official Report without becoming a PDF viewer.
*/

:root{
  --paper:#fbfaf6;
  --ink:#111;
  --muted:#4b4b4b;
  --hairline:rgba(0,0,0,.22);
  --shadow:rgba(0,0,0,.08);

  --serif:"Times New Roman", Times, Georgia, serif;
  --sans:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;

  /* book feel */
  --base:18px;
  --leading:1.6;
  --measure:66ch;

  --outer:clamp(18px,5vw,56px);
  --pad:clamp(18px,3vw,30px);

  --rule:1px solid var(--hairline);
  --radius:18px;
}

html{font-size:var(--base);}
body{
  margin:0;
  font-family:var(--serif);
  color:var(--ink);
  background:linear-gradient(180deg, rgba(0,0,0,.02), transparent 260px), var(--paper);
  line-height:var(--leading);
  text-rendering:optimizeLegibility;
  -webkit-font-smoothing:antialiased;
}

a{color:inherit; text-underline-offset:.15em; text-decoration-thickness:1px;}
a:hover{text-decoration-thickness:2px;}
a:focus-visible{outline:3px solid currentColor; outline-offset:3px; border-radius:6px;}

.wrap{
  max-width: calc(var(--measure) + 2*var(--outer));
  margin:0 auto;
  padding: clamp(18px,5vw,44px) var(--outer) clamp(28px,6vw,72px);
}

.sheet{
  background:rgba(255,255,255,.65);
  border:var(--rule);
  border-radius:var(--radius);
  box-shadow:0 10px 30px var(--shadow);
  padding:var(--pad);
}

/* ====== Title page (mirrors PDF p001) ====== */
.titlepage{
  text-align:center;
  padding: clamp(22px,4vw,44px) 8px clamp(18px,4vw,34px);
}

.titlepage__top{
  display:grid;
  grid-template-columns: 1fr auto 1fr;
  align-items:start;
  gap: 12px;
  font-family:var(--serif);
  font-weight:700;
}

.titlepage__top .left{justify-self:start; text-align:left; line-height:1.2;}
.titlepage__top .right{justify-self:end; text-align:right; line-height:1.2;}
.titlepage__top .mark{
  justify-self:center;
  font-size: 46px;
  line-height:1;
  opacity:.9;
  user-select:none;
}
.titlepage__kicker{
  margin-top: clamp(18px,5vw,50px);
  font-size: 1.05rem;
  letter-spacing: .12em;
  text-transform: uppercase;
}
.titlepage__kicker .sub{display:block; margin-top:6px; letter-spacing:.1em;}
.titlepage__big{
  margin: 26px 0 0;
  font-size: clamp(2.2rem, 5vw, 3.2rem);
  letter-spacing:.06em;
}
.titlepage__mid{
  margin: 18px 0 0;
  font-size: 1.1rem;
  letter-spacing:.08em;
  text-transform: uppercase;
}
.titlepage__mid em{font-style:italic; text-transform:none; letter-spacing:0;}
.titlepage__footer{
  margin-top: clamp(26px,6vw,72px);
  font-size: 1.0rem;
}
.titlepage__footer .dots{
  letter-spacing:.2em;
  padding:0 .2em;
}

/* ====== Edition note ====== */
.note{
  margin: 10px 0 0;
  font-family:var(--sans);
  color:var(--muted);
  font-size:.95rem;
  border:var(--rule);
  border-radius:14px;
  padding:12px 14px;
  background: rgba(0,0,0,.03);
}

/* ====== Main layout ====== */
.main{
  display:grid;
  grid-template-columns: 1fr;
  gap: 22px;
  margin-top: 18px;
}
@media (min-width: 980px){
  .main{grid-template-columns:minmax(0,1fr) 240px; column-gap: 30px;}
}

.reader{max-width:var(--measure);}
.aside{display:none;}
@media (min-width: 980px){
  .aside{display:block; position:sticky; top:18px;}
}

/* ====== Headings like the PDF ====== */
.section-title{
  margin: 1.4rem 0 1rem;
  text-align:center;
  font-size: 1.15rem;
  font-weight:700;
}
.section-title + .section-title{ margin-top:.5rem; }

/* ====== Body text: justified, hyphenated, indented ====== */
.section p{
  margin: 0 0 .95rem;
  text-align:justify;
  hyphens:auto;
}

.speech{margin: 1.15rem 0;}
.speech__label{
  margin: 0 0 .55rem;
  text-align:left;
}
.speaker{
  font-weight:700;
}
.speech__label::after{
  content: ":";
  font-weight:700;
}

.speech__role{
  font-weight:400;
  color:var(--muted);
  margin-left:.35em;
}

/* first-line indent for paragraphs AFTER the first */
.speech p + p{ text-indent: 1.6em; }

/* stage directions / summaries */
.stage{
  margin: 1rem 0;
  font-family:var(--serif);
  font-style:normal;
  text-align:left;
  text-indent:0;
}

/* ====== Page markers (citation anchors) ====== */
.pagebreak{
  display:flex;
  align-items:center;
  gap:.75rem;
  margin: 1.6rem 0 1.1rem;
  color:var(--muted);
  font-family:var(--sans);
  font-size:.9rem;
}
.pagebreak::before,
.pagebreak::after{
  content:"";
  height:1px;
  background:var(--hairline);
  flex:1;
}
.pagebreak__tag{white-space:nowrap;}

/* ====== Plates (printed page images) ====== */
.plate{
  border:var(--rule);
  border-radius:12px;
  overflow:hidden;
  background:rgba(255,255,255,.7);
  box-shadow:0 6px 18px var(--shadow);
}
.plate img{display:block; width:100%; height:auto;}
.plate figcaption{
  font-family:var(--sans);
  font-size:.85rem;
  color:var(--muted);
  padding:8px 10px;
  border-top:var(--rule);
}

/* ====== Plate picker ====== */
.platepicker{
  display:grid;
  gap: 10px;
}
.platepicker button{
  font-family:var(--sans);
  font-size:.9rem;
  text-align:left;
  padding:10px 10px;
  border-radius:12px;
  border:var(--rule);
  background: rgba(255,255,255,.6);
  cursor:pointer;
}
.platepicker button:hover{background: rgba(255,255,255,.9);}
.platepicker button[aria-current="true"]{
  background: rgba(0,0,0,.04);
  outline: 2px solid var(--hairline);
}

/* ====== Modal (accessible lightbox) ====== */
dialog{
  width:min(900px, calc(100vw - 28px));
  border:none;
  border-radius:16px;
  padding:0;
  box-shadow:0 18px 50px rgba(0,0,0,.28);
}
dialog::backdrop{ background: rgba(0,0,0,.45); }
.modal{
  background: var(--paper);
}
.modal__bar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding:12px 14px;
  border-bottom:var(--rule);
  font-family:var(--sans);
}
.modal__title{font-size:.95rem; color:var(--muted);}
.modal__close{
  border:var(--rule);
  background: rgba(255,255,255,.7);
  border-radius:12px;
  padding:8px 10px;
  cursor:pointer;
  font-family:var(--sans);
}
.modal__body{ padding: 14px; }
.modal__body img{ width:100%; height:auto; display:block; }

.smallprint{
  margin-top: 20px;
  border-top: var(--rule);
  padding-top: 14px;
  font-family: var(--sans);
  color: var(--muted);
  font-size: .9rem;
}
